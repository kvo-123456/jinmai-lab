# 优化作品图片加载方案

## 问题分析
1. **URL格式问题**：Square.tsx中为衍生作品生成的URL带有`phase`参数，可能无法被图片服务器正确处理
2. **错误处理不完善**：TianjinImage组件在图片加载失败时只显示简单错误信息，没有重试机制
3. **用户体验不佳**：图片加载失败时没有备用方案，影响整体浏览体验

## 优化方案

### 1. 优化TianjinImage组件
- **添加重试机制**：实现最多3次自动重试加载
- **备用图片支持**：加载失败时显示默认图片或生成占位图
- **改进错误信息**：提供更友好的错误提示和建议
- **优化低质量占位图**：确保能正确处理各种URL格式

### 2. 改进Square.tsx中的URL生成逻辑
- **调整衍生作品URL格式**：避免使用可能不兼容的phase参数
- **或使用不同的URL生成策略**：为衍生作品生成独特的提示词，而不是简单添加参数

### 3. 增强用户体验
- **更清晰的加载状态**：提供明确的加载进度指示
- **交互式重试选项**：允许用户手动重试加载图片
- **优化骨架屏**：提供更逼真的占位效果

## 实施步骤
1. 修改`TianjinImage.tsx`组件，添加重试机制和备用图片
2. 改进`Square.tsx`中的URL生成逻辑
3. 测试图片加载效果
4. 优化用户体验细节

## 预期效果
- 减少图片加载失败的情况
- 提高用户体验，即使图片加载失败也能看到备用内容
- 提供更友好的错误提示和重试选项
- 优化整体加载状态显示