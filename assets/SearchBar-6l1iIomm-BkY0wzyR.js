import{C as s,c as r}from"./index-DvRCDgMZ.js";const w=s.memo(({suggestion:o,isDark:t,onSelect:l})=>{const e=t?"hover:bg-gray-700":"hover:bg-gray-50",n=s.useCallback(()=>{l(o)},[o,l]);return r.jsx("div",{onMouseDown:n,className:`${e} px-3 py-2 text-sm cursor-pointer`,children:o})}),b=s.memo(({search:o,setSearch:t,showSuggest:l,setShowSuggest:e,suggestions:n,isDark:i})=>{const g=s.useRef(null),c=s.useCallback(a=>{const u=a.target.value;g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{t(u)},300),e(!0)},[t,e]),d=s.useCallback(()=>{e(!0)},[e]),h=s.useCallback(()=>{setTimeout(()=>e(!1),150)},[e]),x=s.useCallback(a=>{t(a),e(!1)},[t,e]),m=i?"bg-gray-800 text-white focus:bg-gray-800":"bg-gray-50 text-gray-900 focus:bg-white",y=i?"bg-gray-700":"bg-gray-100",f=i?"bg-gray-800 text-white ring-gray-700 shadow-lg":"bg-white text-gray-900 ring-gray-200 shadow-lg";return r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center rounded-full shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg",children:[r.jsx("div",{className:`${y} px-4 py-2 flex items-center justify-center`,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{value:o,onChange:c,onFocus:d,onBlur:h,className:`${m} flex-1 px-4 py-2 border-0 focus:outline-none focus:ring-0 transition-all duration-300`,placeholder:"搜索标题/评论/风格/题材（支持 style:国潮 / topic:京剧）","aria-label":"搜索内容"})]}),l&&n.length>0&&r.jsx("div",{className:`${f} absolute z-10 mt-2 w-full rounded-xl ring-1 max-h-48 overflow-auto transition-all duration-300 transform origin-top scale-100 opacity-100`,children:n.map((a,u)=>r.jsx(w,{suggestion:a,isDark:i,onSelect:x},`${a}-${u}`))})]})});export{b as default};
