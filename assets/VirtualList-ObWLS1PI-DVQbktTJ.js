import{C as t,c as l}from"./index-DvRCDgMZ.js";function S({items:r,renderItem:w,columns:o,isDark:x,height:h=600,itemHeight:i=200,overscan:d=2}){const[u,g]=t.useState(1200),[c,p]=t.useState(0),[f,v]=t.useState(!1),M=t.useRef(null);t.useEffect(()=>{if(typeof window>"u")return;g(window.innerWidth),v(!0);const e=()=>g(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const n=t.useMemo(()=>f?u<640?1:u<1024?Math.min(o,2):o:o,[f,u,o]),s=t.useMemo(()=>{const e=Math.max(0,Math.floor(c/i)-d),m=Math.min(Math.ceil(r.length/n),Math.ceil(c/i)+Math.ceil(h/i)+d),a=e*n,E=Math.min(r.length,m*n);return{startIndex:a,endIndex:E,startRow:e}},[c,h,i,r.length,n,d]),I=t.useMemo(()=>r.slice(s.startIndex,s.endIndex),[r,s.startIndex,s.endIndex]),y=s.startRow*i,j=e=>{p(e.currentTarget.scrollTop)};return l.jsx("div",{ref:M,className:`overflow-y-auto p-2 ${x?"bg-gray-900":"bg-white"}`,style:{height:h,position:"relative"},onScroll:j,children:l.jsxs("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${n}, 1fr)`,minHeight:`${Math.ceil(r.length/n)*i}px`,position:"relative"},children:[l.jsx("div",{style:{height:y}}),I.map((e,m)=>{const a=s.startIndex+m;return l.jsx("div",{className:"h-full",style:{height:i-16},children:w(e,a)},a)})]})})}export{S as default};
